{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../main-service.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@angular/material/autocomplete\";\nimport * as i10 from \"@angular/material/core\";\nimport * as i11 from \"@angular/material/tooltip\";\nconst _c0 = [\"table\"];\nconst _c1 = [\"aForm\"];\nconst _c2 = [\"username\"];\n\nfunction PurchaseComponent_mat_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-option\", 56);\n    i0.ɵɵlistener(\"onSelectionChange\", function PurchaseComponent_mat_option_17_Template_mat_option_onSelectionChange_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const option_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onPartySelect($event, option_r9._id));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r9.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r9.name, \" \");\n  }\n}\n\nfunction PurchaseComponent_mat_option_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 57);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r12 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r12.itemName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r12.itemName, \" \");\n  }\n}\n\nfunction PurchaseComponent_tr_131_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function PurchaseComponent_tr_131_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const i_r14 = restoredCtx.index;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.removeItem(i_r14));\n    });\n    i0.ɵɵelementStart(15, \"mat-icon\", 60);\n    i0.ɵɵtext(16, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const item_r13 = ctx.$implicit;\n    const i_r14 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r14 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.item_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.bag);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.rate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.quantity * item_r13.rate);\n  }\n} // Importing BrowserWindow from Main\n\n\nexport let PurchaseComponent = /*#__PURE__*/(() => {\n  class PurchaseComponent {\n    constructor(mainService, _snackBar) {\n      this.mainService = mainService;\n      this._snackBar = _snackBar;\n      this.tableArr = [];\n      this.commRateChange = true;\n      this.bhadaChanged = false;\n      this.hammaliChanged = false;\n      this.isPrinting = false;\n      this.toNextElement = 0; //\n\n      this.date = new Date().getDate() + '/' + new Date().getMonth() + '/' + new Date().getFullYear();\n      this.idArray = ['bhada', 'hammali', 'cash', 'commission_rate', 'bhada_rate', 'commission', 'tax', 'station_charge', 'driver', 'Item', 'Bag', 'Quantity', 'Rate'];\n    } //\n\n\n    ngOnInit() {\n      this.purchaseForm = new FormGroup({\n        partyName: new FormControl(null),\n        setOne: new FormGroup({\n          bhada: new FormControl(0, Validators.required),\n          hammali: new FormControl(0, Validators.required),\n          cash: new FormControl(null, Validators.required),\n          commission_rate: new FormControl(null, Validators.required),\n          bhada_rate: new FormControl(null, Validators.required),\n          commission: new FormControl(0, Validators.required),\n          tax: new FormControl(null, Validators.required),\n          station_charge: new FormControl(null, Validators.required),\n          driver: new FormControl(null, Validators.required)\n        }),\n        setTwo: new FormGroup({\n          item_name: new FormControl(),\n          bag: new FormControl(2),\n          quantity: new FormControl(2),\n          rate: new FormControl(2)\n        }),\n        setThree: new FormGroup({\n          to_exp: new FormControl(null),\n          bill_total: new FormControl(null),\n          net_amount: new FormControl(null)\n        })\n      }); //\n      //\n\n      this.mainService.getConstants().then(data => {\n        this.taxRate = data.tax_rate;\n        this.hammaliRate = data.hammali_rate;\n        this.purchaseForm.patchValue({\n          setOne: {\n            bhada_rate: data.bhada_rate\n          }\n        });\n      }); //\n\n      setTimeout(() => {\n        this.username.nativeElement.focus();\n      }, 0); //\n    }\n\n    onKeydownHandler(event) {\n      this.aForm.nativeElement[this.idArray[this.toNextElement]].focus();\n\n      if (this.toNextElement == 12) {\n        this.toNextElement = 9;\n      } else {\n        this.toNextElement++;\n      }\n    }\n\n    ctrl_cal(e) {\n      e.preventDefault();\n\n      if (this.purchaseForm.valid) {\n        this.calculate(); // console.log('asdflka');\n      }\n    }\n\n    ctrl_snp(e) {\n      e.preventDefault();\n      this.resetForm();\n    }\n\n    ctrl_dnn(e) {\n      e.preventDefault();\n      this.printIt();\n    } //\n\n\n    partyName(val) {\n      clearTimeout(this.timer);\n      this.partyOptions = [];\n      this.timer = setTimeout(() => {\n        console.log(val);\n        this.mainService.autoCompleteName(val, 'types=1').then(arr => {\n          console.log(arr);\n          this.partyOptions = arr;\n        });\n      }, 500);\n    }\n\n    itemName(val) {\n      clearTimeout(this.timer);\n      this.itemOptions = [];\n      this.timer = setTimeout(() => {\n        this.mainService.autoCompleteItemName(val).then(arr => {\n          console.log('arrarrarr', arr);\n          this.itemOptions = arr;\n        });\n      }, 500);\n    }\n\n    calculate() {\n      let objOne = this.purchaseForm.value.setOne;\n      let billTotal = 0;\n      let totalBag = 0;\n      this.tableArr.forEach(element => {\n        billTotal = Number(billTotal) + Math.round(Number(element.quantity) * Number(element.rate));\n        totalBag = Number(totalBag) + Number(element.bag);\n      });\n      console.log(objOne.commission_rate, billTotal);\n      this.hammaliCalculated = Math.round(totalBag * this.hammaliRate);\n      this.bhadaCalculated = Math.round(totalBag * objOne.bhada_rate);\n      this.purchaseForm.patchValue({\n        setOne: {\n          hammali: this.hammaliCalculated,\n          bhada: this.bhadaCalculated,\n          tax: Math.round(totalBag * this.taxRate),\n          commission: Math.round(objOne.commission_rate / 100 * billTotal)\n        }\n      });\n      let total_exp = this.bhadaCalculated + Math.round(objOne.commission_rate / 100 * billTotal) + objOne.driver + objOne.station_charge + this.hammaliCalculated + Math.round(totalBag * this.taxRate) + objOne.cash;\n      this.purchaseForm.patchValue({\n        setThree: {\n          bill_total: billTotal,\n          to_exp: total_exp,\n          net_amount: billTotal - total_exp\n        }\n      });\n    }\n\n    addNew() {\n      this.tableArr.push(this.purchaseForm.value.setTwo);\n    }\n\n    onSubmit() {\n      this.purchaseDetail = this.purchaseForm.value.setOne;\n      this.purchaseDetail.items = this.tableArr;\n      let obj = {\n        bill_no: '',\n        date: new Date(),\n        partyId: this.selectedId\n      };\n      Object.assign(obj, this.purchaseDetail);\n      Object.assign(obj, this.purchaseForm.value.setThree);\n      obj.bill_no = Date.now().toString(36);\n      console.log(obj); // this.mainService.addPurchase(obj).then((data) => {\n      //   this._snackBar.open('Purchase Saved', 'Close');\n      // });\n\n      this.printIt();\n    }\n\n    onPartySelect(name, id) {\n      console.log(name.source.value);\n      this.selectedId = id;\n      console.log(id);\n      this.mainService.findParty(name.source.value).then(data => {\n        console.log(data.commission);\n        this.purchaseForm.patchValue({\n          setOne: {\n            commission_rate: data.commission\n          }\n        });\n      });\n    }\n\n    onItemSelect(name, id) {// this.selectedId = id;\n      // this.mainService.getItem(name.source.value).then((data: Party) => {\n      //   this.purchaseForm.patchValue({\n      //     setOne: {\n      //       commission_rate: data.commission,\n      //     },\n      //   });\n      // });\n    }\n\n    removeItem(i) {\n      console.log(i);\n      delete this.tableArr[i];\n      this.tableArr.splice(i, 1);\n    }\n\n    resetForm() {\n      // this.purchaseForm.markAsPristine();\n      this.purchaseForm.reset();\n    }\n\n    onCommRateChange() {\n      if (this.purchaseForm.value.setOne.commission_rate != 0) {\n        this.commRateChange = false;\n        console.log(this.purchaseForm.value.setOne.commission_rate);\n      } else {\n        this.commRateChange = true;\n        console.log(this.purchaseForm.value.setOne.commission_rate);\n      }\n    }\n\n    constChange(r) {\n      let amount;\n      let toMinus;\n\n      if (r == 'hammali') {\n        amount = this.purchaseForm.value.setOne.hammali;\n        toMinus = this.preHammali;\n        this.preHammali = amount;\n\n        if (amount === this.hammaliCalculated) {\n          this.hammaliChanged = false;\n        } else {\n          this.hammaliChanged = true;\n        }\n      }\n\n      if (r == 'bhada') {\n        amount = this.purchaseForm.value.setOne.bhada;\n        toMinus = this.preBhada;\n        this.preBhada = amount;\n\n        if (amount === this.bhadaCalculated) {\n          this.bhadaChanged = false;\n        } else {\n          this.bhadaChanged = true;\n        }\n      }\n\n      this.makeChan(amount - toMinus);\n    }\n\n    printIt() {\n      // this.isPrinting = true;\n      this.mainService.temp = 'AA';\n      this.mainService.tempArr = this.tableArr;\n      this.mainService.tempObj = this.purchaseForm.value; // this.mainService.DataToPrint.next({\n      //   arr: this.tableArr,\n      //   obj: this.purchaseForm.value,\n      // });\n\n      this.mainService.purchasePrint.next('purchasePrint');\n      setTimeout(() => {\n        window.print();\n      }, 0);\n    }\n\n    makeChan(amount) {\n      let rep = this.purchaseForm.value.setThree;\n      console.log(amount, rep);\n      this.purchaseForm.patchValue({\n        setThree: {\n          bill_total: rep.bill_total + amount,\n          to_exp: rep.to_exp + amount,\n          net_amount: rep.net_amount + amount\n        }\n      });\n    }\n\n  }\n\n  PurchaseComponent.ɵfac = function PurchaseComponent_Factory(t) {\n    return new (t || PurchaseComponent)(i0.ɵɵdirectiveInject(i1.MainServiceService), i0.ɵɵdirectiveInject(i2.MatSnackBar));\n  };\n\n  PurchaseComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PurchaseComponent,\n    selectors: [[\"app-purchase\"]],\n    viewQuery: function PurchaseComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.from = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.aForm = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.username = _t.first);\n      }\n    },\n    hostBindings: function PurchaseComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.enter\", function PurchaseComponent_keydown_enter_HostBindingHandler($event) {\n          return ctx.onKeydownHandler($event);\n        }, false, i0.ɵɵresolveDocument)(\"keydown.control.=\", function PurchaseComponent_keydown_control___HostBindingHandler($event) {\n          return ctx.ctrl_cal($event);\n        }, false, i0.ɵɵresolveDocument)(\"keydown.control.]\", function PurchaseComponent_keydown_control___HostBindingHandler($event) {\n          return ctx.ctrl_snp($event);\n        }, false, i0.ɵɵresolveDocument)(\"keydown.control.[\", function PurchaseComponent_keydown_control___HostBindingHandler($event) {\n          return ctx.ctrl_dnn($event);\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    decls: 155,\n    vars: 12,\n    consts: [[1, \"heading\"], [1, \"container\", 3, \"hidden\"], [3, \"formGroup\", \"ngSubmit\", \"keydown.enter\"], [\"aForm\", \"\"], [1, \"row\", \"justify-content-between\"], [1, \"col-10\", \"firstDiv\"], [1, \"mainForm\"], [1, \"row\"], [1, \"col\"], [1, \"input-group\", \"mb-3\"], [2, \"width\", \"100%\"], [\"type\", \"text\", \"placeholder\", \"PARTY NAME\", \"formControlName\", \"partyName\", \"matInput\", \"\", 3, \"matAutocomplete\", \"input\"], [\"username\", \"\"], [\"auto\", \"matAutocomplete\"], [3, \"value\", \"onSelectionChange\", 4, \"ngFor\", \"ngForOf\"], [\"formGroupName\", \"setOne\"], [1, \"form-label\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"number\", \"formControlName\", \"bhada\", \"id\", \"bhada\", \"placeholder\", \"Bhada\", 1, \"form-control\", 3, \"input\"], [\"for\", \"floatingInput\"], [3, \"hidden\"], [\"id\", \"hammali\", \"type\", \"number\", \"formControlName\", \"hammali\", \"placeholder\", \"Hammali\", 1, \"form-control\", 3, \"input\"], [\"id\", \"cash\", \"type\", \"number\", \"formControlName\", \"cash\", \"placeholder\", \"Cash\", 1, \"form-control\"], [1, \"input-group\", \"mb-2\"], [\"type\", \"number\", \"id\", \"commission_rate\", \"formControlName\", \"commission_rate\", \"placeholder\", \"Commission Rate\", 1, \"form-control\", 3, \"change\"], [1, \"input-group-prepend\"], [\"matTooltip\", \"Commission rate is not the default value\", 1, \"input-group-text\", 2, \"height\", \"59px\", \"color\", \"red\", 3, \"hidden\"], [\"id\", \"bhada_rate\", \"type\", \"number\", \"formControlName\", \"bhada_rate\", \"placeholder\", \"Bhada Rate\", 1, \"form-control\"], [\"id\", \"commission\", \"type\", \"number\", \"formControlName\", \"commission\", \"placeholder\", \"Commission\", 1, \"form-control\"], [\"id\", \"tax\", \"formControlName\", \"tax\", \"type\", \"number\", \"placeholder\", \"Tax\", 1, \"form-control\"], [\"id\", \"station_charge\", \"formControlName\", \"station_charge\", \"type\", \"number\", \"placeholder\", \"Station Charge\", 1, \"form-control\"], [\"id\", \"driver\", \"type\", \"number\", \"formControlName\", \"driver\", \"placeholder\", \"Driver\", 1, \"form-control\"], [\"formGroupName\", \"setTwo\", 1, \"row\"], [\"type\", \"text\", \"formControlName\", \"item_name\", \"id\", \"Item\", \"placeholder\", \"ITEM NAME\", \"matInput\", \"\", 2, \"height\", \"32px\", 3, \"matAutocomplete\", \"input\"], [\"itemname\", \"\"], [\"autoTwo\", \"matAutocomplete\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"formControlName\", \"bag\", \"id\", \"Bag\", 1, \"form-control\"], [\"formControlName\", \"quantity\", \"id\", \"Quantity\", 1, \"form-control\"], [\"for\", \"floatingInput\", \"type\", \"number\"], [\"type\", \"number\", \"formControlName\", \"rate\", \"id\", \"Rate\", 1, \"form-control\"], [\"type\", \"button\", 1, \"btn\", \"btn-warning\", 3, \"click\"], [1, \"table\"], [\"table\", \"\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"formGroupName\", \"setThree\", 1, \"row\", 2, \"margin-top\", \"30mm\"], [\"type\", \"text\", \"formControlName\", \"to_exp\", \"disabled\", \"\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"bill_total\", \"disabled\", \"\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"net_amount\", \"disabled\", \"\", 1, \"form-control\"], [1, \"col-2\"], [1, \"row\", 2, \"margin-top\", \"80mm\", \"margin-left\", \"3px\", \"width\", \"49mm\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [1, \"sideButtons\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 2, \"width\", \"50mm\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 2, \"width\", \"50mm\", 3, \"click\"], [3, \"value\", \"onSelectionChange\"], [3, \"value\"], [\"scope\", \"row\"], [\"mat-mini-fab\", \"\", \"color\", \"primary\", \"type\", \"button\", 1, \"matButton\", 3, \"click\"], [1, \"material-icons\"]],\n    template: function PurchaseComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r17 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtext(1, \"PURCHASE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"hr\");\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"form\", 2, 3);\n        i0.ɵɵlistener(\"ngSubmit\", function PurchaseComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.onSubmit();\n        })(\"keydown.enter\", function PurchaseComponent_Template_form_keydown_enter_4_listener($event) {\n          return $event.preventDefault();\n        });\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 7)(10, \"div\", 8)(11, \"div\", 9)(12, \"mat-form-field\", 10)(13, \"input\", 11, 12);\n        i0.ɵɵlistener(\"input\", function PurchaseComponent_Template_input_input_13_listener() {\n          i0.ɵɵrestoreView(_r17);\n\n          const _r1 = i0.ɵɵreference(14);\n\n          return i0.ɵɵresetView(ctx.partyName(_r1.value));\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"mat-autocomplete\", null, 13);\n        i0.ɵɵtemplate(17, PurchaseComponent_mat_option_17_Template, 2, 2, \"mat-option\", 14);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelement(18, \"hr\");\n        i0.ɵɵelementStart(19, \"div\", 15)(20, \"div\", 7)(21, \"div\", 8)(22, \"label\", 16);\n        i0.ɵɵtext(23, \"Bill Number\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\", 8)(25, \"label\", 16);\n        i0.ɵɵtext(26);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 8)(28, \"div\", 17)(29, \"input\", 18);\n        i0.ɵɵlistener(\"input\", function PurchaseComponent_Template_input_input_29_listener() {\n          return ctx.constChange(\"bhada\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"label\", 19);\n        i0.ɵɵtext(31, \"Bhada \");\n        i0.ɵɵelementStart(32, \"mat-icon\", 20);\n        i0.ɵɵtext(33, \"lightbulb\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(34, \"div\", 8)(35, \"div\", 17)(36, \"input\", 21);\n        i0.ɵɵlistener(\"input\", function PurchaseComponent_Template_input_input_36_listener() {\n          return ctx.constChange(\"hammali\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"label\", 19);\n        i0.ɵɵtext(38, \"Hammali \");\n        i0.ɵɵelementStart(39, \"mat-icon\", 20);\n        i0.ɵɵtext(40, \"lightbulb\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(41, \"div\", 8)(42, \"div\", 17);\n        i0.ɵɵelement(43, \"input\", 22);\n        i0.ɵɵelementStart(44, \"label\", 19);\n        i0.ɵɵtext(45, \"Cash \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(46, \"div\", 7)(47, \"div\", 8)(48, \"div\", 23)(49, \"div\", 17)(50, \"input\", 24);\n        i0.ɵɵlistener(\"change\", function PurchaseComponent_Template_input_change_50_listener() {\n          return ctx.onCommRateChange();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"label\", 19);\n        i0.ɵɵtext(52, \"Commission Rate\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(53, \"div\", 25)(54, \"div\", 26);\n        i0.ɵɵtext(55, \" ! \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(56, \"div\", 8)(57, \"div\", 17);\n        i0.ɵɵelement(58, \"input\", 27);\n        i0.ɵɵelementStart(59, \"label\", 19);\n        i0.ɵɵtext(60, \"Bhada Rate\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(61, \"div\", 8)(62, \"div\", 17);\n        i0.ɵɵelement(63, \"input\", 28);\n        i0.ɵɵelementStart(64, \"label\", 19);\n        i0.ɵɵtext(65, \"Commision\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(66, \"div\", 7)(67, \"div\", 8)(68, \"div\", 17);\n        i0.ɵɵelement(69, \"input\", 29);\n        i0.ɵɵelementStart(70, \"label\", 19);\n        i0.ɵɵtext(71, \"Tax\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(72, \"div\", 8)(73, \"div\", 17);\n        i0.ɵɵelement(74, \"input\", 30);\n        i0.ɵɵelementStart(75, \"label\", 19);\n        i0.ɵɵtext(76, \"Station Charge\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(77, \"div\", 8)(78, \"div\", 17);\n        i0.ɵɵelement(79, \"input\", 31);\n        i0.ɵɵelementStart(80, \"label\", 19);\n        i0.ɵɵtext(81, \"Driver\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelement(82, \"hr\");\n        i0.ɵɵelementStart(83, \"div\", 32)(84, \"div\", 8)(85, \"div\", 9)(86, \"mat-form-field\", 10)(87, \"input\", 33, 34);\n        i0.ɵɵlistener(\"input\", function PurchaseComponent_Template_input_input_87_listener() {\n          i0.ɵɵrestoreView(_r17);\n\n          const _r4 = i0.ɵɵreference(88);\n\n          return i0.ɵɵresetView(ctx.itemName(_r4.value));\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(89, \"mat-autocomplete\", null, 35);\n        i0.ɵɵtemplate(91, PurchaseComponent_mat_option_91_Template, 2, 2, \"mat-option\", 36);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(92, \"div\", 8)(93, \"div\", 17);\n        i0.ɵɵelement(94, \"input\", 37);\n        i0.ɵɵelementStart(95, \"label\", 19);\n        i0.ɵɵtext(96, \"Bag\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(97, \"div\", 8)(98, \"div\", 17);\n        i0.ɵɵelement(99, \"input\", 38);\n        i0.ɵɵelementStart(100, \"label\", 39);\n        i0.ɵɵtext(101, \"Quantity\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(102, \"div\", 8)(103, \"div\", 17);\n        i0.ɵɵelement(104, \"input\", 40);\n        i0.ɵɵelementStart(105, \"label\", 19);\n        i0.ɵɵtext(106, \"Rate\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(107, \"div\", 7)(108, \"button\", 41);\n        i0.ɵɵlistener(\"click\", function PurchaseComponent_Template_button_click_108_listener() {\n          return ctx.addNew();\n        });\n        i0.ɵɵtext(109, \" Add \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(110, \"hr\");\n        i0.ɵɵelementStart(111, \"div\", 7)(112, \"table\", 42, 43)(114, \"thead\")(115, \"tr\")(116, \"th\", 44);\n        i0.ɵɵtext(117, \"#\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(118, \"th\", 44);\n        i0.ɵɵtext(119, \"ITEM\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(120, \"th\", 44);\n        i0.ɵɵtext(121, \"BAG\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(122, \"th\", 44);\n        i0.ɵɵtext(123, \"QUANTITY\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(124, \"th\", 44);\n        i0.ɵɵtext(125, \"RATE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(126, \"th\", 44);\n        i0.ɵɵtext(127, \"AMOUNT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(128, \"th\", 44);\n        i0.ɵɵtext(129, \"REMOVE\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(130, \"tbody\");\n        i0.ɵɵtemplate(131, PurchaseComponent_tr_131_Template, 17, 6, \"tr\", 45);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(132, \"div\", 46)(133, \"div\", 8)(134, \"label\", 16);\n        i0.ɵɵtext(135, \"Total Expense\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(136, \"input\", 47);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(137, \"div\", 8)(138, \"label\", 16);\n        i0.ɵɵtext(139, \"Bill Total\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(140, \"input\", 48);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(141, \"div\", 8)(142, \"label\", 16);\n        i0.ɵɵtext(143, \"Net Amount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(144, \"input\", 49);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(145, \"div\", 50)(146, \"div\", 51)(147, \"button\", 52);\n        i0.ɵɵlistener(\"click\", function PurchaseComponent_Template_button_click_147_listener() {\n          return ctx.calculate();\n        });\n        i0.ɵɵtext(148, \" Calculate('ctrl'+'=') \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(149, \"div\", 53)(150, \"button\", 54);\n        i0.ɵɵtext(151, \" Save and Print('ctrl'+'[') \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(152, \"div\", 53)(153, \"button\", 55);\n        i0.ɵɵlistener(\"click\", function PurchaseComponent_Template_button_click_153_listener() {\n          return ctx.resetForm();\n        });\n        i0.ɵɵtext(154, \" Discard\\\\New('ctrl'+']') \");\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(16);\n\n        const _r5 = i0.ɵɵreference(90);\n\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"hidden\", ctx.isPrinting);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.purchaseForm);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"matAutocomplete\", _r2);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.partyOptions);\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate1(\"DATE - \", ctx.date, \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"hidden\", !ctx.bhadaChanged);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"hidden\", !ctx.hammaliChanged);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"hidden\", ctx.commRateChange);\n        i0.ɵɵadvance(33);\n        i0.ɵɵproperty(\"matAutocomplete\", _r5);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.itemOptions);\n        i0.ɵɵadvance(40);\n        i0.ɵɵproperty(\"ngForOf\", ctx.tableArr);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"disabled\", !ctx.purchaseForm.valid);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i4.FormGroupName, i5.MatFormField, i6.MatInput, i7.MatButton, i8.MatIcon, i9.MatAutocomplete, i9.MatAutocompleteTrigger, i10.MatOption, i11.MatTooltip],\n    styles: [\".sideButtons[_ngcontent-%COMP%]{margin-top:30px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.mat-icon[_ngcontent-%COMP%]{font-size:15px!important}.matButton[_ngcontent-%COMP%]{height:26px!important;width:30px!important}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%]{font-size:18pt;font-weight:500;margin-bottom:.5cm}h2[_ngcontent-%COMP%]{font-size:16pt;font-weight:500}p[_ngcontent-%COMP%]{font-size:12pt}.items-group[_ngcontent-%COMP%]{border-style:solid;border-color:#000;border-width:1pt 1pt 1pt 1pt;border-radius:5pt;padding:3pt;margin:9pt 0}.items-group-sub[_ngcontent-%COMP%]{border-style:solid;border-color:#000;border-width:0 1pt 1pt 1pt;border-radius:0 0 5pt 5pt;padding:12pt 3pt 3pt;margin:-14pt 0 9pt}.items-group-sub[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not(.label), .items-group[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not(.label){font-size:10pt}.logotipo[_ngcontent-%COMP%]{width:6cm;height:4cm;margin:-.5cm}.label[_ngcontent-%COMP%]{font-weight:500}.disclaimer[_ngcontent-%COMP%], .address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10pt}.signature-field[_ngcontent-%COMP%]{padding-bottom:24pt;border-bottom:solid black 1pt}\"]\n  });\n  return PurchaseComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}